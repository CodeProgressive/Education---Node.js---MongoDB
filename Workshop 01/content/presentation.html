<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Node.js & MongoDB course | Workshop 01</title>

		<meta name="description" content="The first workshop in our Node.js & MongoDB course">
		<meta name="author" content="Jimmy Aupperlee">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="assets/css/reveal.min.css">
		<link rel="stylesheet" href="assets/css/theme/beige.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="assets/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="assets/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
        <script src="js/html5shiv.js"></script>
        <![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background="assets/img/title.jpg" data-background-repeat="no-repeat" data-background-size="cover"></section>
                <section>
                    <section>
                        <h2>Prerequisite : Javascript</h2>

					<pre><code data-trim class="javascript" contenteditable>
window.threeDeeRoll = (function(w) {

    if( typeof supports3DTransforms !== 'undefined' ) {

        var nodes = document.querySelectorAll(w),
            deg2rad = Math.PI / 180,
            ax = x * deg2rad, m = {};

        if(ax >= 1){
            /* XZY */
            m={a: c2*c3, b: -s2, c: c2*s3,
            d: s1*s3+c1*c3*s2, e: c1*c2, f: c1*s2*s3-c3*s1,
            g: c3*s1*s2-c1*s3, h: c2*s1, i: c1*c3+s1*s2*s3};
        }

        for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
            var node = nodes[i];

            if( !node.className ) {
                node.className += ' roll';
            }
        }
    }
})(window)
                    </code></pre>

                        <aside class="notes">
                            The real example is below! Press down!
                        </aside>
                    </section>
                    <section>
                        <h2>Prerequisite : Javascript</h2>
                        <h3>How about this one?</h3>

					<pre><code data-trim class="javascript" contenteditable>
var number = 10;

function add( number1 , number2 ) {
    return number1 + number2;
}

// Returns the number 25
console.log( add( number, 15 ) );
                    </code></pre>
                    </section>
                </section>
                <section data-background="#c0392b">
                    <h2 style="color: #fff;">Let's get started</h2>
                    <h3 style="color: #fff;">Right away!</h3>
                    <hr/>
                    <h2 style="color: #fff;">Time to install Node.js</h2>
                    <a href="http://nodejs.org" target="_blank" style="color: #fff; !important">Go to; <strong>nodejs.org</strong></a>
                </section>
                <section>
                    <p>Or, you can do it ...</p>
                    <h2>The easy way !</h2>
                    <img style="border: none !important; box-shadow: none !important;" src="assets/img/vagrant.png"/>
                    <br/>
                    <a href="http://bit.ly/1g6uR6n" target="_blank">Go to: bit.ly/1g6uR6n</a>
                </section>
                <section>
                    <h2>In the mean time...</h2>
                    <h3>Let me tell you about...</h3>
                </section>
                <section data-transition="zoom">
                    <img style="border: none !important; box-shadow: none !important;" src="assets/img/nodejs.png"/>
                </section>
                <section>
                    <img style="border: none !important; box-shadow: none !important;" src="assets/img/nodejs.png"/>
                    <ul>
                        <li>Google's V8 engine in C++</li>
                        <li class="fragment">Server side Javascript</li>
                        <li class="fragment">Asynchronous, multiple threads</li>
                        <li class="fragment">Realtime applications</li>
                    </ul>
                </section>
                <section>
                    <img style="border: none !important; box-shadow: none !important;" src="assets/img/nodejs_pitfalls.png"/>
                    <ul>
                        <li>Asynchronous response</li>
                        <li class="fragment">Error handling (unit testing)</li>
                        <li class="fragment">Node itself is a single process (one CPU)</li>
                        <li class="fragment">Garbage collector</li>
                    </ul>
                </section>
                <section>
                    <section>
                        <h2>Your first node.js app</h2>
                        <h5>Create an app that shows the current version of node.js installed.</h5>

                        <ul>
                            <li>Create a file called app.js</li>
                            <li>Write your code in it</li>
                            <li>Start it by typing; <strong>node app</strong> in the console</li>
                        </ul>
                    </section>
                    <section>
                        <h2>That simple</h2>
                        <pre><code data-trim class="javascript" contenteditable>
// Show the current version of node.js installed
console.log('Current version: ' + process.version);
                        </code></pre>
                    </section>
                </section>
                <section>
                    <h2>Modules</h2>
                    <h4>You don't need everything all the time</h4>
                        <pre><code data-trim class="javascript" contenteditable>
// Load the filesystem module
var fs = ( "fs" );
                        </code></pre>
                    <a href="http://nodejs.org/api/" target="_blank">Documentation: http://nodejs.org/api/</a>
                </section>
                <section>
                    <section>
                        <h2>Asynchronous response</h2>
                        <h4>Things happen everywhere, all the time...</h4>
                        <h3 class="fragment">Which is cool!</h3>
                        <h5 class="fragment">But requires thoughtful programming!</h5>
                    </section>
                    <section>
                        <h2>Asynchronous file read</h2>
                        <pre><code data-trim class="javascript" contenteditable>
var callback = function ( err, data ) {

    if ( err )
        return console.error( err );

    console.log( data );
};

fs.readFile( 'test.txt' , callback );
                        </code></pre>
                    </section>
                    <section>
                        <h2>Synchronous file read</h2>
                        <pre><code data-trim class="javascript" contenteditable>
var data = fs.readFileSync( 'test.txt' );

console.log( data );
                        </code></pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Convention</h2>
                        <h5>Callback parameters</h5>
                        <pre><code data-trim class="javascript" contenteditable>
getNumber( function ( err, data, callback ) {

    if ( err )
        return console.error( err );

    var processed = data + 10;

    if ( typeof callback == 'function' )
        callback( null, processed );
});
                        </code></pre>
                    </section>
                    <section>
                        <h2>Convention</h2>
                        <h5>Smaller functions (avoid callback hell)</h5>
                        <pre><code data-trim class="javascript" contenteditable>
function convertJsonToCsv(filename, target, callback) {
    readFile(filename, function (err, content) {
        if (err) {
            return callback(err);
        }
        parseJson(content, function (err, data) {
            if (err) {
                return callback(err);
            }
            convertToCsv(data, function (err, csv) {
                if (err) {
                    return callback(err);
                }
                writeFile(target, csv, callback);
            });
        });
    });
}
                        </code></pre>
                    </section>
                    <section>
                        <h2>Convention</h2>
                        <h5>Smaller functions (use this instead)</h5>
                        <pre><code data-trim class="javascript" contenteditable>
function convertJsonToCsv(filename, target, callback) {
    readJsonFile(filename, function (err, data) {
        if (err) {
            return callback(err);
        }
        writeCsvFile(target, data, callback);
    });
}

function readJsonFile(filename, callback) {
    readFile(filename, function (err, content) {
        if (err) {
            return callback(err);
        }
        parseJson(content, callback);
    });
}

function writeCsvFile(target, data, callback) {
    convertToCsv(data, function (err, csv) {
        if (err) {
            return callback(err);
        }
        writeFile(target, csv, callback);
    });
}
                        </code></pre>
                    </section>
                    <section>
                        <h2>Convention</h2>
                        <h5>Always catch errors and throw inside synchronous functions</h5>
                        <pre><code data-trim class="javascript" contenteditable>
function writeCsvFile(target, data, callback) {
    convertToCsv(data, function (err, csv) {
        if (err) {
            return callback(err);
        }
        writeFile(target, csv, callback);
    });
}
                        </code></pre>
                        <pre><code data-trim class="javascript" contenteditable>
function getRecord(id, callback) {
    http.get('http://foo/' + id, function (err, doc) {
        if (err) {
            return callback(err);
        }
        if (doc.deleted) {
            return callback(new Error('Record has been deleted'));
        }
        return callback(null, doc);
    });
}
                        </code></pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>The first challange</h2>
                        <h3>Write a letter, developer style!</h3>
                        <hr/>
                        <p>Create a node script that echoes out the entire letter with your name added to the end of the letter.</p>
                        <h6><small>Use the script to add your name! Don't do it manually!</small></h6>
                        <hr/>
                        <h4>Extra challenge</h4>
                        <p><small>Make the script watch the file for changes and echo the new file if that occurs.</small></p>
                    </section>
                    <section>
                        <h2>The solution!</h2>

                        <pre><code data-trim class="javascript" contenteditable>
var fs = require("fs");

var name = "Ricardo Snoek"

var loadLetter = function(callback) {
    fs.readFile("letter.txt", callback);
};

var processLetter = function(error, data) {
    if (error)
        return console.error(error);
    else
        console.log(data + name);
};

loadLetter(processLetter);
                        </code></pre>
                    </section>
                </section>
                <section data-background="#2980b9">
                    <h2 style="color: #fff">Thank you</h2>
                    <h4 style="color: #fff">We hope to see you in two weeks!</h4>
                    <h5>Node.js - NPM, be part of the community and your first real app</h5>
                </section>
            </div>

		</div>

		<script src="js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: 'beige', // available themes are in /css/theme
				transition: 'concave', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>
	</body>
</html>
